<!-- Wappler include head-page="layouts/admin" fontawesome_5="cdn" bootstrap5="local" is="dmx-app" id="user_list" appConnect="local" components="{dmxBootstrap5TableGenerator:{},dmxStateManagement:{},dmxFormatter:{},dmxDataTraversal:{}}" -->
<dmx-array id="arr1" dmx-bind:items="scAllUsers.data.query[$index].fName"></dmx-array>
<dmx-data-view id="data_view1" dmx-bind:data="scAllUsers.data.query" sorton="varFName"></dmx-data-view>
<dmx-query-manager id="query1"></dmx-query-manager>
<meta name="ac:route" content="/admin/user/user_list">
<dmx-serverconnect id="scAllUsers" url="/api/Users/allUsers" dmx-param:sort="query1.data.sort" dmx-param:dir="query1.data.dir" dmx-param:filter=""></dmx-serverconnect>
<div class="container">
    <div class="row">
        <div class="col">
            <div class="card">
                <div class="card-body">
                    <div class="row"></div>
                    <div class="row">
                        <div class="col">
                            <div class="row">
                                <div class="col">

                                </div>
                                <div class="col">
                                    <i class="fas fa-search fa-sm"></i>
                                    <div class="form-group mb-3 row">
                                        <label for="input1" class="col-sm-2 col-form-label">Search</label>
                                        <div class="col-sm-10">
                                            <input type="text" class="form-control" id="input1" name="input1" aria-describedby="input1_help" placeholder="Enter some text" dmx-text="arr1.items[0].$value">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover table-sm">
                                    <thead>
                                        <tr>
                                            <th scope="row" class="sorting" dmx-on:click="query1.set('sort','null');query1.set('dir',query1.data.dir == 'desc' ? 'asc' : 'desc')" dmx-class:sorting_asc="query1.data.sort=='null' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='null' && query1.data.dir == 'desc'">undefined</th>
                                            <th class="sorting" dmx-on:click="query1.set('sort','scAllUsers');query1.set('dir',query1.data.dir == 'desc' ? 'asc' : 'desc')" dmx-class:sorting_asc="query1.data.sort=='scAllUsers' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='scAllUsers' && query1.data.dir == 'desc'">First Name</th>
                                            <th class="sorting" dmx-on:click="query1.set('sort','scAllUsers');query1.set('dir',query1.data.dir == 'desc' ? 'asc' : 'desc')" dmx-class:sorting_asc="query1.data.sort=='scAllUsers' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='scAllUsers' && query1.data.dir == 'desc'">Last Name</th>
                                            <th class="sorting" dmx-on:click="query1.set('sort','scAllUsers');query1.set('dir',query1.data.dir == 'desc' ? 'asc' : 'desc')" dmx-class:sorting_asc="query1.data.sort=='scAllUsers' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='scAllUsers' && query1.data.dir == 'desc'">Email</th>
                                            <th scope="row" class="sorting" dmx-on:click="query1.set('sort','scAllUsers');query1.set('dir',query1.data.dir == 'desc' ? 'asc' : 'desc')" dmx-class:sorting_asc="query1.data.sort=='scAllUsers' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='scAllUsers' && query1.data.dir == 'desc'">Role</th>
                                            <th class="sorting" dmx-on:click="query1.set('sort','joinDate');query1.set('dir',query1.data.dir == 'desc' ? 'asc' : 'desc')" dmx-class:sorting_asc="query1.data.sort=='joinDate' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='joinDate' && query1.data.dir == 'desc'">Join Date</th>
                                        </tr>
                                    </thead>
                                    <tbody is="dmx-repeat" dmx-generator="bs5table" dmx-bind:repeat="scAllUsers.data.query" id="tableRepeat2" dmx-state="query1" dmx-sort="sort" dmx-order="dir">
                                        <tr>
                                            <td>
                                                <img dmx-bind:src="'upload\\images\\profiles\\'+scAllUsers.data.query[$index].imageName+'.jpg'" width="50" height="50" class="rounded-circle">
                                            </td>
                                            <td class="align-middle" dmx-text="scAllUsers.data.repeat[$index].varFName"></td>
                                            <td class="align-middle" dmx-text="scAllUsers.data.repeat[$index].varLName"></td>
                                            <td class="align-middle" dmx-text="scAllUsers.data.repeat[$index].varEmail"></td>
                                            <td class="align-middle" dmx-text="scAllUsers.data.query[$index].name"></td>
                                            <td class="align-middle" dmx-text="joinDate.formatDate('dd-MM-yyyy')"></td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <td>&nbsp;</td>
                                            <td>&nbsp;</td>
                                            <td>&nbsp;</td>
                                            <td>&nbsp;</td>
                                            <td>&nbsp;</td>
                                            <td>&nbsp;</td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>